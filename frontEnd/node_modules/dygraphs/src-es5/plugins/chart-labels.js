/**
 * @license
 * Copyright 2012 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licenced: https://opensource.org/licenses/MIT
 */
/*global Dygraph:false */

"use strict";

// TODO(danvk): move chart label options out of dygraphs and into the plugin.
// TODO(danvk): only tear down & rebuild the DIVs when it's necessary.
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;
var chart_labels = function chart_labels() {
  this.title_div_ = null;
  this.xlabel_div_ = null;
  this.ylabel_div_ = null;
  this.y2label_div_ = null;
};
chart_labels.prototype.toString = function () {
  return "ChartLabels Plugin";
};
chart_labels.prototype.activate = function (g) {
  return {
    layout: this.layout,
    // clearChart: this.clearChart,
    didDrawChart: this.didDrawChart
  };
};

// QUESTION: should there be a plugin-utils.js?
var createDivInRect = function createDivInRect(r) {
  var div = document.createElement('div');
  div.style.position = 'absolute';
  div.style.left = r.x + 'px';
  div.style.top = r.y + 'px';
  div.style.width = r.w + 'px';
  div.style.height = r.h + 'px';
  return div;
};

// Detach and null out any existing nodes.
chart_labels.prototype.detachLabels_ = function () {
  var els = [this.title_div_, this.xlabel_div_, this.ylabel_div_, this.y2label_div_];
  for (var i = 0; i < els.length; i++) {
    var el = els[i];
    if (!el) continue;
    if (el.parentNode) el.parentNode.removeChild(el);
  }
  this.title_div_ = null;
  this.xlabel_div_ = null;
  this.ylabel_div_ = null;
  this.y2label_div_ = null;
};
var createRotatedDiv = function createRotatedDiv(g, box, axis, classes, html) {
  // TODO(danvk): is this outer div actually necessary?
  var div = document.createElement("div");
  div.style.position = 'absolute';
  if (axis == 1) {
    // NOTE: this is cheating. Should be positioned relative to the box.
    div.style.left = '0px';
  } else {
    div.style.left = box.x + 'px';
  }
  div.style.top = box.y + 'px';
  div.style.width = box.w + 'px';
  div.style.height = box.h + 'px';
  div.style.fontSize = g.getOption('yLabelWidth') - 2 + 'px';
  var inner_div = document.createElement("div");
  inner_div.style.position = 'absolute';
  inner_div.style.width = box.h + 'px';
  inner_div.style.height = box.w + 'px';
  inner_div.style.top = box.h / 2 - box.w / 2 + 'px';
  inner_div.style.left = box.w / 2 - box.h / 2 + 'px';
  // TODO: combine inner_div and class_div.
  inner_div.className = 'dygraph-label-rotate-' + (axis == 1 ? 'right' : 'left');
  var class_div = document.createElement("div");
  class_div.className = classes;
  class_div.innerHTML = html;
  inner_div.appendChild(class_div);
  div.appendChild(inner_div);
  return div;
};
chart_labels.prototype.layout = function (e) {
  this.detachLabels_();
  var g = e.dygraph;
  var div = e.chart_div;
  if (g.getOption('title')) {
    // QUESTION: should this return an absolutely-positioned div instead?
    var title_rect = e.reserveSpaceTop(g.getOption('titleHeight'));
    this.title_div_ = createDivInRect(title_rect);
    this.title_div_.style.fontSize = g.getOption('titleHeight') - 8 + 'px';
    var class_div = document.createElement("div");
    class_div.className = 'dygraph-label dygraph-title';
    class_div.innerHTML = g.getOption('title');
    this.title_div_.appendChild(class_div);
    div.appendChild(this.title_div_);
  }
  if (g.getOption('xlabel')) {
    var x_rect = e.reserveSpaceBottom(g.getOption('xLabelHeight'));
    this.xlabel_div_ = createDivInRect(x_rect);
    this.xlabel_div_.style.fontSize = g.getOption('xLabelHeight') - 2 + 'px';
    var class_div = document.createElement("div");
    class_div.className = 'dygraph-label dygraph-xlabel';
    class_div.innerHTML = g.getOption('xlabel');
    this.xlabel_div_.appendChild(class_div);
    div.appendChild(this.xlabel_div_);
  }
  if (g.getOption('ylabel')) {
    // It would make sense to shift the chart here to make room for the y-axis
    // label, but the default yAxisLabelWidth is large enough that this results
    // in overly-padded charts. The y-axis label should fit fine. If it
    // doesn't, the yAxisLabelWidth option can be increased.
    var y_rect = e.reserveSpaceLeft(0);
    this.ylabel_div_ = createRotatedDiv(g, y_rect, 1,
    // primary (left) y-axis
    'dygraph-label dygraph-ylabel', g.getOption('ylabel'));
    div.appendChild(this.ylabel_div_);
  }
  if (g.getOption('y2label') && g.numAxes() == 2) {
    // same logic applies here as for ylabel.
    var y2_rect = e.reserveSpaceRight(0);
    this.y2label_div_ = createRotatedDiv(g, y2_rect, 2,
    // secondary (right) y-axis
    'dygraph-label dygraph-y2label', g.getOption('y2label'));
    div.appendChild(this.y2label_div_);
  }
};
chart_labels.prototype.didDrawChart = function (e) {
  var g = e.dygraph;
  if (this.title_div_) {
    this.title_div_.children[0].innerHTML = g.getOption('title');
  }
  if (this.xlabel_div_) {
    this.xlabel_div_.children[0].innerHTML = g.getOption('xlabel');
  }
  if (this.ylabel_div_) {
    this.ylabel_div_.children[0].children[0].innerHTML = g.getOption('ylabel');
  }
  if (this.y2label_div_) {
    this.y2label_div_.children[0].children[0].innerHTML = g.getOption('y2label');
  }
};
chart_labels.prototype.clearChart = function () {};
chart_labels.prototype.destroy = function () {
  this.detachLabels_();
};
var _default = chart_labels;
exports["default"] = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjaGFydF9sYWJlbHMiLCJ0aXRsZV9kaXZfIiwieGxhYmVsX2Rpdl8iLCJ5bGFiZWxfZGl2XyIsInkybGFiZWxfZGl2XyIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiYWN0aXZhdGUiLCJnIiwibGF5b3V0IiwiZGlkRHJhd0NoYXJ0IiwiY3JlYXRlRGl2SW5SZWN0IiwiciIsImRpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwicG9zaXRpb24iLCJsZWZ0IiwieCIsInRvcCIsInkiLCJ3aWR0aCIsInciLCJoZWlnaHQiLCJoIiwiZGV0YWNoTGFiZWxzXyIsImVscyIsImkiLCJsZW5ndGgiLCJlbCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImNyZWF0ZVJvdGF0ZWREaXYiLCJib3giLCJheGlzIiwiY2xhc3NlcyIsImh0bWwiLCJmb250U2l6ZSIsImdldE9wdGlvbiIsImlubmVyX2RpdiIsImNsYXNzTmFtZSIsImNsYXNzX2RpdiIsImlubmVySFRNTCIsImFwcGVuZENoaWxkIiwiZSIsImR5Z3JhcGgiLCJjaGFydF9kaXYiLCJ0aXRsZV9yZWN0IiwicmVzZXJ2ZVNwYWNlVG9wIiwieF9yZWN0IiwicmVzZXJ2ZVNwYWNlQm90dG9tIiwieV9yZWN0IiwicmVzZXJ2ZVNwYWNlTGVmdCIsIm51bUF4ZXMiLCJ5Ml9yZWN0IiwicmVzZXJ2ZVNwYWNlUmlnaHQiLCJjaGlsZHJlbiIsImNsZWFyQ2hhcnQiLCJkZXN0cm95Il0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL3BsdWdpbnMvY2hhcnQtbGFiZWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDEyIERhbiBWYW5kZXJrYW0gKGRhbnZka0BnbWFpbC5jb20pXG4gKiBNSVQtbGljZW5jZWQ6IGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4gKi9cbi8qZ2xvYmFsIER5Z3JhcGg6ZmFsc2UgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIFRPRE8oZGFudmspOiBtb3ZlIGNoYXJ0IGxhYmVsIG9wdGlvbnMgb3V0IG9mIGR5Z3JhcGhzIGFuZCBpbnRvIHRoZSBwbHVnaW4uXG4vLyBUT0RPKGRhbnZrKTogb25seSB0ZWFyIGRvd24gJiByZWJ1aWxkIHRoZSBESVZzIHdoZW4gaXQncyBuZWNlc3NhcnkuXG5cbnZhciBjaGFydF9sYWJlbHMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy50aXRsZV9kaXZfID0gbnVsbDtcbiAgdGhpcy54bGFiZWxfZGl2XyA9IG51bGw7XG4gIHRoaXMueWxhYmVsX2Rpdl8gPSBudWxsO1xuICB0aGlzLnkybGFiZWxfZGl2XyA9IG51bGw7XG59O1xuXG5jaGFydF9sYWJlbHMucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcIkNoYXJ0TGFiZWxzIFBsdWdpblwiO1xufTtcblxuY2hhcnRfbGFiZWxzLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uKGcpIHtcbiAgcmV0dXJuIHtcbiAgICBsYXlvdXQ6IHRoaXMubGF5b3V0LFxuICAgIC8vIGNsZWFyQ2hhcnQ6IHRoaXMuY2xlYXJDaGFydCxcbiAgICBkaWREcmF3Q2hhcnQ6IHRoaXMuZGlkRHJhd0NoYXJ0XG4gIH07XG59O1xuXG4vLyBRVUVTVElPTjogc2hvdWxkIHRoZXJlIGJlIGEgcGx1Z2luLXV0aWxzLmpzP1xudmFyIGNyZWF0ZURpdkluUmVjdCA9IGZ1bmN0aW9uKHIpIHtcbiAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICBkaXYuc3R5bGUubGVmdCA9IHIueCArICdweCc7XG4gIGRpdi5zdHlsZS50b3AgPSByLnkgKyAncHgnO1xuICBkaXYuc3R5bGUud2lkdGggPSByLncgKyAncHgnO1xuICBkaXYuc3R5bGUuaGVpZ2h0ID0gci5oICsgJ3B4JztcbiAgcmV0dXJuIGRpdjtcbn07XG5cbi8vIERldGFjaCBhbmQgbnVsbCBvdXQgYW55IGV4aXN0aW5nIG5vZGVzLlxuY2hhcnRfbGFiZWxzLnByb3RvdHlwZS5kZXRhY2hMYWJlbHNfID0gZnVuY3Rpb24oKSB7XG4gIHZhciBlbHMgPSBbIHRoaXMudGl0bGVfZGl2XyxcbiAgICAgICAgICAgICAgdGhpcy54bGFiZWxfZGl2XyxcbiAgICAgICAgICAgICAgdGhpcy55bGFiZWxfZGl2XyxcbiAgICAgICAgICAgICAgdGhpcy55MmxhYmVsX2Rpdl8gXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZWwgPSBlbHNbaV07XG4gICAgaWYgKCFlbCkgY29udGludWU7XG4gICAgaWYgKGVsLnBhcmVudE5vZGUpIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpO1xuICB9XG5cbiAgdGhpcy50aXRsZV9kaXZfID0gbnVsbDtcbiAgdGhpcy54bGFiZWxfZGl2XyA9IG51bGw7XG4gIHRoaXMueWxhYmVsX2Rpdl8gPSBudWxsO1xuICB0aGlzLnkybGFiZWxfZGl2XyA9IG51bGw7XG59O1xuXG52YXIgY3JlYXRlUm90YXRlZERpdiA9IGZ1bmN0aW9uKGcsIGJveCwgYXhpcywgY2xhc3NlcywgaHRtbCkge1xuICAvLyBUT0RPKGRhbnZrKTogaXMgdGhpcyBvdXRlciBkaXYgYWN0dWFsbHkgbmVjZXNzYXJ5P1xuICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgaWYgKGF4aXMgPT0gMSkge1xuICAgIC8vIE5PVEU6IHRoaXMgaXMgY2hlYXRpbmcuIFNob3VsZCBiZSBwb3NpdGlvbmVkIHJlbGF0aXZlIHRvIHRoZSBib3guXG4gICAgZGl2LnN0eWxlLmxlZnQgPSAnMHB4JztcbiAgfSBlbHNlIHtcbiAgICBkaXYuc3R5bGUubGVmdCA9IGJveC54ICsgJ3B4JztcbiAgfVxuICBkaXYuc3R5bGUudG9wID0gYm94LnkgKyAncHgnO1xuICBkaXYuc3R5bGUud2lkdGggPSBib3gudyArICdweCc7XG4gIGRpdi5zdHlsZS5oZWlnaHQgPSBib3guaCArICdweCc7XG4gIGRpdi5zdHlsZS5mb250U2l6ZSA9IChnLmdldE9wdGlvbigneUxhYmVsV2lkdGgnKSAtIDIpICsgJ3B4JztcblxuICB2YXIgaW5uZXJfZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgaW5uZXJfZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgaW5uZXJfZGl2LnN0eWxlLndpZHRoID0gYm94LmggKyAncHgnO1xuICBpbm5lcl9kaXYuc3R5bGUuaGVpZ2h0ID0gYm94LncgKyAncHgnO1xuICBpbm5lcl9kaXYuc3R5bGUudG9wID0gKGJveC5oIC8gMiAtIGJveC53IC8gMikgKyAncHgnO1xuICBpbm5lcl9kaXYuc3R5bGUubGVmdCA9IChib3gudyAvIDIgLSBib3guaCAvIDIpICsgJ3B4JztcbiAgLy8gVE9ETzogY29tYmluZSBpbm5lcl9kaXYgYW5kIGNsYXNzX2Rpdi5cbiAgaW5uZXJfZGl2LmNsYXNzTmFtZSA9ICdkeWdyYXBoLWxhYmVsLXJvdGF0ZS0nICsgKGF4aXMgPT0gMSA/ICdyaWdodCcgOiAnbGVmdCcpO1xuXG4gIHZhciBjbGFzc19kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBjbGFzc19kaXYuY2xhc3NOYW1lID0gY2xhc3NlcztcbiAgY2xhc3NfZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cbiAgaW5uZXJfZGl2LmFwcGVuZENoaWxkKGNsYXNzX2Rpdik7XG4gIGRpdi5hcHBlbmRDaGlsZChpbm5lcl9kaXYpO1xuICByZXR1cm4gZGl2O1xufTtcblxuY2hhcnRfbGFiZWxzLnByb3RvdHlwZS5sYXlvdXQgPSBmdW5jdGlvbihlKSB7XG4gIHRoaXMuZGV0YWNoTGFiZWxzXygpO1xuXG4gIHZhciBnID0gZS5keWdyYXBoO1xuICB2YXIgZGl2ID0gZS5jaGFydF9kaXY7XG4gIGlmIChnLmdldE9wdGlvbigndGl0bGUnKSkge1xuICAgIC8vIFFVRVNUSU9OOiBzaG91bGQgdGhpcyByZXR1cm4gYW4gYWJzb2x1dGVseS1wb3NpdGlvbmVkIGRpdiBpbnN0ZWFkP1xuICAgIHZhciB0aXRsZV9yZWN0ID0gZS5yZXNlcnZlU3BhY2VUb3AoZy5nZXRPcHRpb24oJ3RpdGxlSGVpZ2h0JykpO1xuICAgIHRoaXMudGl0bGVfZGl2XyA9IGNyZWF0ZURpdkluUmVjdCh0aXRsZV9yZWN0KTtcbiAgICB0aGlzLnRpdGxlX2Rpdl8uc3R5bGUuZm9udFNpemUgPSAoZy5nZXRPcHRpb24oJ3RpdGxlSGVpZ2h0JykgLSA4KSArICdweCc7XG5cbiAgICB2YXIgY2xhc3NfZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjbGFzc19kaXYuY2xhc3NOYW1lID0gJ2R5Z3JhcGgtbGFiZWwgZHlncmFwaC10aXRsZSc7XG4gICAgY2xhc3NfZGl2LmlubmVySFRNTCA9IGcuZ2V0T3B0aW9uKCd0aXRsZScpO1xuICAgIHRoaXMudGl0bGVfZGl2Xy5hcHBlbmRDaGlsZChjbGFzc19kaXYpO1xuICAgIGRpdi5hcHBlbmRDaGlsZCh0aGlzLnRpdGxlX2Rpdl8pO1xuICB9XG5cbiAgaWYgKGcuZ2V0T3B0aW9uKCd4bGFiZWwnKSkge1xuICAgIHZhciB4X3JlY3QgPSBlLnJlc2VydmVTcGFjZUJvdHRvbShnLmdldE9wdGlvbigneExhYmVsSGVpZ2h0JykpO1xuICAgIHRoaXMueGxhYmVsX2Rpdl8gPSBjcmVhdGVEaXZJblJlY3QoeF9yZWN0KTtcbiAgICB0aGlzLnhsYWJlbF9kaXZfLnN0eWxlLmZvbnRTaXplID0gKGcuZ2V0T3B0aW9uKCd4TGFiZWxIZWlnaHQnKSAtIDIpICsgJ3B4JztcblxuICAgIHZhciBjbGFzc19kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNsYXNzX2Rpdi5jbGFzc05hbWUgPSAnZHlncmFwaC1sYWJlbCBkeWdyYXBoLXhsYWJlbCc7XG4gICAgY2xhc3NfZGl2LmlubmVySFRNTCA9IGcuZ2V0T3B0aW9uKCd4bGFiZWwnKTtcbiAgICB0aGlzLnhsYWJlbF9kaXZfLmFwcGVuZENoaWxkKGNsYXNzX2Rpdik7XG4gICAgZGl2LmFwcGVuZENoaWxkKHRoaXMueGxhYmVsX2Rpdl8pO1xuICB9XG5cbiAgaWYgKGcuZ2V0T3B0aW9uKCd5bGFiZWwnKSkge1xuICAgIC8vIEl0IHdvdWxkIG1ha2Ugc2Vuc2UgdG8gc2hpZnQgdGhlIGNoYXJ0IGhlcmUgdG8gbWFrZSByb29tIGZvciB0aGUgeS1heGlzXG4gICAgLy8gbGFiZWwsIGJ1dCB0aGUgZGVmYXVsdCB5QXhpc0xhYmVsV2lkdGggaXMgbGFyZ2UgZW5vdWdoIHRoYXQgdGhpcyByZXN1bHRzXG4gICAgLy8gaW4gb3Zlcmx5LXBhZGRlZCBjaGFydHMuIFRoZSB5LWF4aXMgbGFiZWwgc2hvdWxkIGZpdCBmaW5lLiBJZiBpdFxuICAgIC8vIGRvZXNuJ3QsIHRoZSB5QXhpc0xhYmVsV2lkdGggb3B0aW9uIGNhbiBiZSBpbmNyZWFzZWQuXG4gICAgdmFyIHlfcmVjdCA9IGUucmVzZXJ2ZVNwYWNlTGVmdCgwKTtcblxuICAgIHRoaXMueWxhYmVsX2Rpdl8gPSBjcmVhdGVSb3RhdGVkRGl2KFxuICAgICAgICBnLCB5X3JlY3QsXG4gICAgICAgIDEsICAvLyBwcmltYXJ5IChsZWZ0KSB5LWF4aXNcbiAgICAgICAgJ2R5Z3JhcGgtbGFiZWwgZHlncmFwaC15bGFiZWwnLFxuICAgICAgICBnLmdldE9wdGlvbigneWxhYmVsJykpO1xuICAgIGRpdi5hcHBlbmRDaGlsZCh0aGlzLnlsYWJlbF9kaXZfKTtcbiAgfVxuXG4gIGlmIChnLmdldE9wdGlvbigneTJsYWJlbCcpICYmIGcubnVtQXhlcygpID09IDIpIHtcbiAgICAvLyBzYW1lIGxvZ2ljIGFwcGxpZXMgaGVyZSBhcyBmb3IgeWxhYmVsLlxuICAgIHZhciB5Ml9yZWN0ID0gZS5yZXNlcnZlU3BhY2VSaWdodCgwKTtcbiAgICB0aGlzLnkybGFiZWxfZGl2XyA9IGNyZWF0ZVJvdGF0ZWREaXYoXG4gICAgICAgIGcsIHkyX3JlY3QsXG4gICAgICAgIDIsICAvLyBzZWNvbmRhcnkgKHJpZ2h0KSB5LWF4aXNcbiAgICAgICAgJ2R5Z3JhcGgtbGFiZWwgZHlncmFwaC15MmxhYmVsJyxcbiAgICAgICAgZy5nZXRPcHRpb24oJ3kybGFiZWwnKSk7XG4gICAgZGl2LmFwcGVuZENoaWxkKHRoaXMueTJsYWJlbF9kaXZfKTtcbiAgfVxufTtcblxuY2hhcnRfbGFiZWxzLnByb3RvdHlwZS5kaWREcmF3Q2hhcnQgPSBmdW5jdGlvbihlKSB7XG4gIHZhciBnID0gZS5keWdyYXBoO1xuICBpZiAodGhpcy50aXRsZV9kaXZfKSB7XG4gICAgdGhpcy50aXRsZV9kaXZfLmNoaWxkcmVuWzBdLmlubmVySFRNTCA9IGcuZ2V0T3B0aW9uKCd0aXRsZScpO1xuICB9XG4gIGlmICh0aGlzLnhsYWJlbF9kaXZfKSB7XG4gICAgdGhpcy54bGFiZWxfZGl2Xy5jaGlsZHJlblswXS5pbm5lckhUTUwgPSBnLmdldE9wdGlvbigneGxhYmVsJyk7XG4gIH1cbiAgaWYgKHRoaXMueWxhYmVsX2Rpdl8pIHtcbiAgICB0aGlzLnlsYWJlbF9kaXZfLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLmlubmVySFRNTCA9IGcuZ2V0T3B0aW9uKCd5bGFiZWwnKTtcbiAgfVxuICBpZiAodGhpcy55MmxhYmVsX2Rpdl8pIHtcbiAgICB0aGlzLnkybGFiZWxfZGl2Xy5jaGlsZHJlblswXS5jaGlsZHJlblswXS5pbm5lckhUTUwgPSBnLmdldE9wdGlvbigneTJsYWJlbCcpO1xuICB9XG59O1xuXG5jaGFydF9sYWJlbHMucHJvdG90eXBlLmNsZWFyQ2hhcnQgPSBmdW5jdGlvbigpIHtcbn07XG5cbmNoYXJ0X2xhYmVscy5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmRldGFjaExhYmVsc18oKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNoYXJ0X2xhYmVscztcbiJdLCJtYXBwaW5ncyI6IkFB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