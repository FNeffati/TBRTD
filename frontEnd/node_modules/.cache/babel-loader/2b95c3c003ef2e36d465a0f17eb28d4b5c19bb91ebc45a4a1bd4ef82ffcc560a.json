{"ast":null,"code":"var _jsxFileName = \"/Users/fneffati/Documents/Classes/TBRTD/frontend/src/components/WordCloud.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport ReactWordcloud from \"react-wordcloud\";\nimport 'tippy.js/dist/tippy.css';\nimport Util from './analysis';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WordCloud = ({\n  cloud_type,\n  tweets,\n  onWordCloudClick\n}) => {\n  _s();\n  let text = \"@ASJbrand Vote for the candidate endorsed by the .@DECFL @AndrewGillum will protect our environment..\";\n  const flattenedText = text.toLowerCase();\n\n  // Correct pattern to match \"RT @username:\"\n  const RTPattern = /RT\\s+@[A-Za-z0-9._-]+:/gi;\n\n  //\"@username\"\n  const usernamePattern = /@[A-Za-z0-9._-]+/g;\n  let replacedText = flattenedText.replace(RTPattern, '').replace(usernamePattern, '').trim();\n  console.log(\"BEFORE:\", flattenedText);\n  console.log(\"AFTER: \", replacedText);\n  const [words, setWords] = useState([{\n    text: \"LOADING\",\n    value: 20\n  }]);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    if (tweets.length > 0) {\n      if (cloud_type.length === 0 || cloud_type[0] === 'Single Term Cloud') {\n        const top100Words = Util.regularWordCloud(tweets);\n        setWords(top100Words);\n      } else if (cloud_type[0] === \"Geo Hashtags\") {\n        const hashtags = Util.geohashtagsCloud(tweets);\n        setWords(hashtags);\n      } else if (cloud_type[0] === \"Non-Geo Hashtags\") {\n        const hashtags = Util.nonGeohashtagsCloud(tweets);\n        setWords(hashtags);\n      }\n    } else {\n      setWords([{\n        text: \"LOADING\",\n        value: 20\n      }]);\n    }\n  }, [tweets, cloud_type]);\n  const options = useMemo(() => ({\n    rotations: 1,\n    rotationAngles: [0],\n    fontSizes: [15, 60],\n    colors: [\"#1f77b4\", \"#ff7f0e\", \"#2ca02c\", \"#d62728\", \"#9467bd\", \"#8c564b\"],\n    enableTooltip: true,\n    deterministic: true,\n    fontFamily: \"impact\",\n    fontStyle: \"normal\",\n    fontWeight: \"normal\",\n    padding: 1,\n    scale: \"sqrt\",\n    spiral: \"archimedean\",\n    transitionDuration: 1000\n  }), []);\n  const callbacks = useMemo(() => ({\n    onWordClick: word => onWordCloudClick(word.text)\n  }), []);\n  const size = useMemo(() => [500, 600], []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"word-cloud-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: loading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 50\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"word-cloud\",\n      children: /*#__PURE__*/_jsxDEV(ReactWordcloud, {\n        words: words,\n        options: options,\n        size: size,\n        padding: 0,\n        callbacks: callbacks\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this);\n};\n_s(WordCloud, \"m5tUFdGo8ZvWTHPFI8fHSKoqoKQ=\");\n_c = WordCloud;\nexport default WordCloud;\nvar _c;\n$RefreshReg$(_c, \"WordCloud\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","ReactWordcloud","Util","jsxDEV","_jsxDEV","WordCloud","cloud_type","tweets","onWordCloudClick","_s","text","flattenedText","toLowerCase","RTPattern","usernamePattern","replacedText","replace","trim","console","log","words","setWords","value","loading","setLoading","length","top100Words","regularWordCloud","hashtags","geohashtagsCloud","nonGeohashtagsCloud","options","rotations","rotationAngles","fontSizes","colors","enableTooltip","deterministic","fontFamily","fontStyle","fontWeight","padding","scale","spiral","transitionDuration","callbacks","onWordClick","word","size","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/fneffati/Documents/Classes/TBRTD/frontend/src/components/WordCloud.js"],"sourcesContent":["import React, {useEffect, useMemo, useState} from \"react\";\nimport ReactWordcloud from \"react-wordcloud\";\nimport 'tippy.js/dist/tippy.css';\nimport Util from './analysis';\n\n\nconst WordCloud = ({ cloud_type, tweets, onWordCloudClick}) => {\n\n    let text = \"@ASJbrand Vote for the candidate endorsed by the .@DECFL @AndrewGillum will protect our environment..\";\n    const flattenedText = text.toLowerCase();\n\n    // Correct pattern to match \"RT @username:\"\n    const RTPattern = /RT\\s+@[A-Za-z0-9._-]+:/gi;\n\n    //\"@username\"\n    const usernamePattern = /@[A-Za-z0-9._-]+/g;\n\n    let replacedText = flattenedText.replace(RTPattern, '').replace(usernamePattern, '').trim();\n\n    console.log(\"BEFORE:\", flattenedText);\n    console.log(\"AFTER: \", replacedText);\n\n\n    const [words, setWords] = useState([{\n        text: \"LOADING\",\n        value: 20\n    }]);\n    const [loading, setLoading] = useState(false);\n\n\n    useEffect(() => {\n        if (tweets.length > 0) {\n            if (cloud_type.length === 0 || cloud_type[0] === 'Single Term Cloud') {\n                const top100Words = Util.regularWordCloud(tweets);\n                setWords(top100Words);\n            } else if (cloud_type[0] === \"Geo Hashtags\") {\n                const hashtags = Util.geohashtagsCloud(tweets);\n                setWords(hashtags);\n            }\n            else if (cloud_type[0] === \"Non-Geo Hashtags\") {\n                const hashtags = Util.nonGeohashtagsCloud(tweets);\n                setWords(hashtags);\n            }\n        } else {\n            setWords([{\n                text: \"LOADING\",\n                value: 20\n            }]);\n        }\n    }, [tweets, cloud_type]);\n\n\n    const options = useMemo(\n        () => ({\n            rotations: 1,\n            rotationAngles: [0],\n            fontSizes: [15, 60],\n            colors: [\"#1f77b4\", \"#ff7f0e\", \"#2ca02c\", \"#d62728\", \"#9467bd\", \"#8c564b\"],\n            enableTooltip: true,\n            deterministic: true,\n            fontFamily: \"impact\",\n            fontStyle: \"normal\",\n            fontWeight: \"normal\",\n            padding: 1,\n            scale: \"sqrt\",\n            spiral: \"archimedean\",\n            transitionDuration: 1000,\n        }),\n        []\n    );\n\n    const callbacks = useMemo(\n        () => ({\n            onWordClick: (word) => onWordCloudClick(word.text)\n        }),\n        []\n    );\n\n    const size = useMemo(() => [500, 600], []);\n\n    return (\n        <div className=\"word-cloud-container\">\n            <div className=\"loading\">{loading && <p>Loading...</p>}</div>\n            <div className=\"word-cloud\">\n                <ReactWordcloud  words={words} options={options} size={size} padding={0} callbacks={callbacks}/>\n            </div>\n        </div>\n    );\n};\n\nexport default WordCloud;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}